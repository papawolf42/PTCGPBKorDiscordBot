# Poke.py 명령어 가이드

## 명령어 개요
Poke.py는 Discord 봇으로, 다양한 명령어를 통해 사용자 관리와 갓팩 관리를 수행합니다.
모든 명령어는 각 그룹의 COMMAND 채널에서만 작동합니다.

## 일반 사용자 명령어

### 정보 조회
- **`!state`**
  - 현재 온라인 상태인 사용자 목록을 표시합니다
  - 출력: `현재 {그룹명}의 온라인 상태 ({N}명): 사용자목록`

- **`!timer`**
  - 온라인 사용자의 접속 시간 정보를 Embed 형식으로 표시합니다
  - 각 사용자의 최근 활동 시간과 배럭 정보를 포함합니다

- **`!barracks`**
  - 현재 온라인 사용자들의 배럭 정보를 텍스트 파일로 생성합니다
  - 파일명: `{그룹명}_barracks.txt`

- **`!alive`**
  - 봇이 정상 작동하는지 확인하는 간단한 명령어입니다
  - 응답: "I'm alive!"

### 갓팩 관련
- **`!yet`**
  - 미검증 갓팩 및 최근 축팩 목록을 표시합니다
  - ** 표시: 2일 미만의 최근 갓팩
  - * 표시: 4일 미만의 갓팩

- **`!verify`**
  - 포럼의 갓팩 검증 상태를 확인합니다
  - 각 포스트의 👍/👎/❓ 반응 수를 집계하여 표시합니다

## 갓팩 관리 명령어

### 갓팩 상태 변경
- **`!success [이름] [번호]`**
  - 갓팩을 성공(Good)으로 표시합니다
  - 예: `!success papawolf 123`

- **`!fail [이름] [번호]`**
  - 갓팩을 실패(Bad)로 표시합니다
  - 예: `!fail papawolf 123`

- **`!unknown [이름] [번호]`**
  - 갓팩을 미확인(Yet)으로 표시합니다
  - 예: `!unknown papawolf 123`

- **`!remove [이름] [번호]`**
  - 갓팩 정보를 삭제(NaN)합니다
  - 예: `!remove papawolf 123`

## 관리자 전용 명령어

### 권한 관리
- **`!admin [+/-] [Discord ID]`**
  - 관리자를 추가하거나 제거합니다
  - 예: `!admin + 123456789`
  - 예: `!admin - 123456789`

### 멤버 관리
- **`!member [추가/삭제] [이름] [코드]`**
  - 멤버를 추가하거나 삭제합니다
  - 예: `!member 추가 papawolf 1234-5678-9012`
  - 예: `!member 삭제 papawolf`

- **`!add [그룹명] [+/-] [코드]`**
  - 특정 그룹에 사용자를 추가하거나 제거합니다
  - 예: `!add Group7 + 1234-5678-9012`

- **`!delete [그룹명] [코드]`**
  - 특정 그룹에서 사용자를 삭제합니다
  - 예: `!delete Group7 1234-5678-9012`

- **`!mandate [이름]`**
  - 특정 사용자를 강제로 온라인 상태로 만듭니다
  - 예: `!mandate papawolf`

### 갓팩 관리
- **`!reply [이름] [번호]`**
  - 갓팩 포럼 스레드에 자동으로 댓글을 작성합니다
  - 예: `!reply papawolf 123`

- **`!custom`**
  - 커스텀 멤버 목록을 출력합니다

## 테스트 명령어 (관리자 전용)

### 기본 테스트 명령어
- **`!test_update`**
  - 온라인 상태를 즉시 업데이트합니다
  - 정상적으로는 30초(TEST_MODE: 5초)마다 자동 실행됩니다

- **`!test_verify`**
  - 갓팩 검증을 즉시 실행합니다
  - 정상적으로는 2분마다 자동 실행됩니다

- **`!test_offline`**
  - 오프라인 처리를 즉시 실행합니다
  - 타임아웃된 사용자를 오프라인으로 변경합니다

### 추가 테스트 명령어
- **`!test_recent_online`**
  - recent_online 함수를 실행합니다
  - 최근 48시간 내 활동한 사용자를 Server.ONLINE에 추가합니다

- **`!test_recent_godpack`**
  - recent_godpack 함수를 실행합니다
  - 최근 갓팩 정보를 로드하고 처리합니다

- **`!test_timeout`**
  - 타임아웃 체크만 별도로 실행합니다
  - 15분(TEST_MODE: 10초) 이상 활동이 없는 사용자를 오프라인 처리합니다

- **`!test_gist_sync`**
  - GIST 동기화 상태를 확인합니다
  - Server.FILE.DATA, Server.ONLINE, Server.WAITING 간의 차이를 표시합니다

- **`!test_clean_forum`**
  - 포럼 정리 작업을 미리보기로 실행합니다
  - 1주일 이상된 Bad 태그 스레드 개수를 확인합니다 (실제 삭제는 하지 않음)

## 주의사항

1. **채널 제한**: 모든 명령어는 COMMAND 채널에서만 작동합니다
2. **권한 확인**: 관리자 명령어는 Admin.txt에 등록된 Discord ID만 사용 가능합니다
3. **대소문자**: 명령어는 소문자로 입력해야 합니다
4. **TEST_MODE**: 테스트 모드에서는 일부 타이밍이 다르게 작동합니다

## 자동 실행 기능 (Periodic)

다음 기능들은 자동으로 주기적으로 실행됩니다:
- **update_periodic**: 30초마다 (TEST_MODE: 5초) - 온라인 상태 업데이트 및 타임아웃 처리
- **verify_periodic**: 2분마다 - 갓팩 검증 및 포럼 정리