# 2025-06-06 ì„¸ì…˜ 3: Poke2.py Group8 ì¶”ê°€ ì‘ì—…

## ì‘ì—… ëª©í‘œ
Poke2.pyê°€ í˜„ì¬ Group7ë§Œ ê´€ë¦¬í•˜ë˜ ê²ƒì„ Group7ê³¼ Group8ì„ ëª¨ë‘ ê´€ë¦¬í•˜ë„ë¡ í™•ì¥

## ì™„ë£Œëœ ì‘ì—…

### 1. GROUP_CONFIGSì— Group8 ì„¤ì • ì¶”ê°€ âœ…
- `src/bots/Poke2.py` ë¼ì¸ 69-87ì— Group8 ì„¤ì • ì¶”ê°€
- í™˜ê²½ ë³€ìˆ˜ëŠ” ì´ë¯¸ `.env`ì— ì¡´ì¬í•œë‹¤ê³  í™•ì¸ë¨

### 2. ë¬¸ì œì  ë°œê²¬ ğŸ”
í˜„ì¬ ì¹œêµ¬ ëª©ë¡ ìƒì„± ë¡œì§ì´ ê·¸ë£¹ êµ¬ë¶„ ì—†ì´ ëª¨ë“  ì˜¨ë¼ì¸ ì‚¬ìš©ìë¥¼ ëŒ€ìƒìœ¼ë¡œ í•¨:
- `update_friend_lists()` í•¨ìˆ˜ (ë¼ì¸ 1034)
- ë¼ì¸ 1214: `all_candidates = [v_id for v_id in online_user_ids if u_id != v_id]`
- **ë¬¸ì œ**: Group7ê³¼ Group8 ì‚¬ìš©ìê°€ ì„œë¡œ ì¹œêµ¬ ì¶”ê°€ë  ìˆ˜ ìˆìŒ

## í•´ê²° ë°©ì•ˆ ë…¼ì˜

### ì´ˆê¸° ì ‘ê·¼ ë°©ë²• (ë³µì¡í•¨)
```python
# ê° ì‚¬ìš©ìë§ˆë‹¤ ê°™ì€ ê·¸ë£¹ì¸ì§€ ì²´í¬í•˜ë©´ì„œ í•„í„°ë§
u_group = u_profile.get('group_name')
all_candidates = []
for v_id in online_user_ids:
    if u_id != v_id:
        v_profile_temp = online_users_profiles.get(v_id)
        if v_profile_temp and v_profile_temp.get('group_name') == u_group:
            all_candidates.append(v_id)
```

### ê°œì„ ëœ ì ‘ê·¼ ë°©ë²• (ê¶Œì¥) â­
ì²˜ìŒë¶€í„° ê·¸ë£¹ë³„ë¡œ ì˜¨ë¼ì¸ ì‚¬ìš©ìë¥¼ ë¶„ë¦¬í•˜ì—¬ ì²˜ë¦¬:

1. **check_heartbeat_status()** í•¨ìˆ˜ì—ì„œ (ë¼ì¸ 1301):
   ```python
   # ê¸°ì¡´: ëª¨ë“  ì˜¨ë¼ì¸ ì‚¬ìš©ìë¥¼ í•˜ë‚˜ì˜ dictì— ì €ì¥
   current_online_profiles = {}
   
   # ê°œì„ : ê·¸ë£¹ë³„ë¡œ ë¶„ë¦¬í•˜ì—¬ ì €ì¥
   online_profiles_by_group = {
       "Group7": {},
       "Group8": {}
   }
   ```

2. **ê·¸ë£¹ë³„ë¡œ ë…ë¦½ì ì¸ ì¹œêµ¬ ëª©ë¡ ìƒì„±**:
   ```python
   for group_name, group_online_profiles in online_profiles_by_group.items():
       if group_online_profiles:
           group_friend_lists = await update_friend_lists(group_online_profiles)
           await generate_friend_list_files(group_friend_lists, group_online_profiles)
   ```

## ë‹¤ìŒ ì‘ì—… ê³„íš

### 1. check_heartbeat_status() ìˆ˜ì •
- ë¼ì¸ 1326 ê·¼ì²˜: `current_online_profiles` â†’ `online_profiles_by_group`
- ì˜¨ë¼ì¸ ì‚¬ìš©ì í™•ì¸ ì‹œ ê·¸ë£¹ë³„ë¡œ ë¶„ë¥˜

### 2. ì¹œêµ¬ ëª©ë¡ ìƒì„± ë¡œì§ ìˆ˜ì •
- ê° ê·¸ë£¹ë³„ë¡œ ë…ë¦½ì ìœ¼ë¡œ `update_friend_lists()` í˜¸ì¶œ
- ê·¸ë£¹ë³„ë¡œ íŒŒì¼ ìƒì„±

### 3. ê·¸ë£¹ë³„ ë°°ëŸ­ í˜„í™© ìˆ˜ì •
- ë¼ì¸ 1077: Group8 ì¶”ê°€
- ë¼ì¸ 1087: Group8ë„ ì¶œë ¥ë˜ë„ë¡ ìˆ˜ì •

### 4. ê¸°íƒ€ í•˜ë“œì½”ë”©ëœ ë¶€ë¶„ ìˆ˜ì •
- ë¼ì¸ 44: `GODPACK_WEBHOOK_CHANNEL_ID`ê°€ Group7 ì „ìš©ìœ¼ë¡œ í•˜ë“œì½”ë”©ë¨
- ì˜¤ë¥˜ ê°ì§€ë¥¼ ìœ„í•œ ì±„ë„ ì²˜ë¦¬ ë°©ì‹ ê°œì„  í•„ìš”

## ì£¼ì˜ì‚¬í•­
- ê·¸ë£¹ ê°„ ê²©ë¦¬ê°€ í™•ì‹¤íˆ ë³´ì¥ë˜ì–´ì•¼ í•¨
- ê¸°ì¡´ Group7 ê¸°ëŠ¥ì— ì˜í–¥ ì—†ì–´ì•¼ í•¨
- í…ŒìŠ¤íŠ¸ ì‹œ ë‘ ê·¸ë£¹ì˜ ì¹œêµ¬ ëª©ë¡ì´ ì„ì´ì§€ ì•ŠëŠ”ì§€ í™•ì¸ í•„ìˆ˜

## í˜„ì¬ ìƒíƒœ
- Poke2.pyì— Group8 ì„¤ì •ì€ ì¶”ê°€ë¨
- ì¹œêµ¬ ëª©ë¡ ìƒì„± ë¡œì§ì€ ì•„ì§ ìˆ˜ì • ì „
- ê·¸ë£¹ë³„ ë¶„ë¦¬ ì²˜ë¦¬ ë°©ì‹ìœ¼ë¡œ ì§„í–‰ ì˜ˆì •